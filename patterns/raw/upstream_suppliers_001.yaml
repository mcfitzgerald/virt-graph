# Pattern: Upstream Supply Chain Traversal
# Discovered during Phase 3 implementation
discovered: "2024-12-04"
query: "Who supplies to GlobalTech Industries?"
category: n-hop-recursive
route: YELLOW

# Handler approach
handler_used: traverse
handler_params:
  nodes_table: suppliers
  edges_table: supplier_relationships
  edge_from_col: seller_id
  edge_to_col: buyer_id
  start_id: 42  # GlobalTech ID
  direction: inbound  # Follow edges backwards (upstream)
  max_depth: 10
  include_start: false

# Ontology bindings
ontology_bindings:
  relationship: supplies_to
  domain_class: Supplier
  range_class: Supplier
  direction_semantic: "seller supplies_to buyer"
  traversal_direction: "inbound = upstream (toward raw materials)"

result_correct: true
execution_time_ms: 65
nodes_returned: 28
max_depth_reached: 3

notes: |
  supplies_to relationship: seller_id -> buyer_id

  Traversal directions:
  - inbound: upstream suppliers (who sells TO this buyer)
  - outbound: downstream customers (who this seller sells TO)

  The supplies_to relationship in ontology has:
  - domain_key: seller_id (the entity that supplies)
  - range_key: buyer_id (the entity that receives)

  For "who supplies to X", we want all sellers where X is buyer,
  then recursively find their sellers. This is INBOUND traversal.
